---
phase: 01-git-repository-consolidation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - generations/island_selector/.git (deleted)
  - generations/island_selector/** (tracked by root repo)
autonomous: true

must_haves:
  truths:
    - "Running git log from project root shows full development history"
    - "No .git folder exists inside generations/island_selector/"
    - "git status works correctly from project root"
  artifacts:
    - path: "generations/island_selector/"
      provides: "All addon files tracked by root repository"
      contains: "src/, pom.xml"
  key_links:
    - from: "root .git"
      to: "generations/island_selector/**"
      via: "git tracking"
      pattern: "git ls-files.*generations"
---

<objective>
Consolidate the nested git repository into the root repository by deleting the nested .git folder and committing all files as a single import.

Purpose: Establish a single clean git repository for the entire project, eliminating the nested repository complexity.

Output: Root repository tracks all island_selector files; nested .git folder is gone.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-git-repository-consolidation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Delete nested .git folder</name>
  <files>generations/island_selector/.git</files>
  <action>
Delete the nested .git folder at `generations/island_selector/.git`.

Steps:
1. Verify current working directory is project root (`C:\Users\Administrator\Desktop\VSCode\IslandSelector`)
2. Verify nested .git exists: `ls -la generations/island_selector/.git`
3. Delete the folder: `rm -rf generations/island_selector/.git`
4. If deletion fails with "Access denied" on Windows, use: `Remove-Item -Recurse -Force "generations/island_selector/.git"` in PowerShell

Why: Git treats folders containing .git as potential submodules. Removing this allows the files to be tracked as regular files by the root repository.
  </action>
  <verify>
Run: `ls -la generations/island_selector/.git 2>&1`
Should output: "No such file or directory" or similar error indicating the folder is gone.
  </verify>
  <done>No .git folder exists at generations/island_selector/.git</done>
</task>

<task type="auto">
  <name>Task 2: Add and commit files to root repository</name>
  <files>generations/island_selector/**</files>
  <action>
Add all files from the nested project to the root repository and commit them as a single squash import.

Steps:
1. Add all files: `git add generations/island_selector/`
2. Review staged files: `git status` (should show many "new file:" entries)
3. Commit with descriptive message:

```bash
git commit -m "$(cat <<'EOF'
feat: import island_selector BentoBox addon

Consolidates island_selector project into root repository.
Original repository contained 101 commits of development history.

Features:
- BentoBox addon for island selection in Minecraft servers
- Complete Java/Maven project with source and configuration
- Development notes and documentation included

Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>
EOF
)"
```

Why: This creates a clean import commit that tracks all addon files while acknowledging the consolidated history.
  </action>
  <verify>
Run these verification commands:
1. `git status` - Should show "nothing to commit, working tree clean" (or only untracked files outside generations/)
2. `git log --oneline -3` - Should show the import commit at the top
3. `git ls-files generations/island_selector/ | wc -l` - Should show tracked files (expect ~100+ files)
  </verify>
  <done>All files under generations/island_selector/ are tracked by root repo; import commit exists in git log</done>
</task>

</tasks>

<verification>
After completing both tasks, verify the phase success criteria:

1. **Git log shows history**: `git log --oneline` includes the import commit
2. **No nested .git**: `test -d generations/island_selector/.git && echo "FAIL" || echo "PASS"`
3. **Git status works**: `git status` runs without errors from project root
</verification>

<success_criteria>
- [ ] Nested .git folder at generations/island_selector/.git is deleted
- [ ] All files under generations/island_selector/ are tracked by root repository
- [ ] Import commit exists in git log with descriptive message
- [ ] git status shows clean state (or expected untracked files outside generations/)
</success_criteria>

<output>
After completion, create `.planning/phases/01-git-repository-consolidation/01-01-SUMMARY.md`
</output>
